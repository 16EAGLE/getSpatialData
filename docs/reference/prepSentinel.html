<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepare Sentinel data to be ready-to-use (beta) — prepSentinel • getSpatialData</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Prepare Sentinel data to be ready-to-use (beta) — prepSentinel" />

<meta property="og:description" content="prepSentinel makes downloaded Sentinel datasets ready-to-use by automatically inspecting, extracting, sorting and converting the relevant contents of the datasets to a user-defined format." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">getSpatialData</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../index.html#get-started">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://www.github.com/bleutner/RStoolbox">RStoolbox</a>
    </li>
    <li>
      <a href="http://www.github.com/RRemelgado/rsmove">rsMove</a>
    </li>
    <li>
      <a href="http://movevis.org">moveVis</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://www.twitter.com/schwalbwillmann">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://www.github.com/16eagle">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://remote-sensing.eu">
    <span class="fa fa-globe fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare Sentinel data to be ready-to-use (beta)</h1>
    
    <div class="hidden name"><code>prepSentinel.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>prepSentinel</code> makes downloaded Sentinel datasets ready-to-use by automatically inspecting, extracting, sorting and converting the relevant contents of the datasets to a user-defined format.</p>
    
    </div>

    <pre class="usage"><span class='fu'>prepSentinel</span>(<span class='no'>datasets</span>, <span class='kw'>dir_out</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"vrt"</span>,
  <span class='kw'>select.tiles</span> <span class='kw'>=</span> <span class='st'>"all"</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='no'>F</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='no'>T</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>datasets</th>
      <td><p>character vector or list, containing paths to datasets (.zip, as downloaded by <code>getSentinel_data</code>) that should be prepared.</p></td>
    </tr>
    <tr>
      <th>dir_out</th>
      <td><p>character, full path to target directory. Optional. If not set, <code>prepSentinel</code> uses the directory to the <code>getSpatialData</code> archive folder. Use <a href='gSD_settings.html'>set_archive</a> to once define a getSpatialData  archive folder.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>character, output format of the raster datasets (indicated by the file extension, e.g. "tiff" for format GTiff). Default is "vrt".</p></td>
    </tr>
    <tr>
      <th>select.tiles</th>
      <td><p>character, selecting one or multuple specific tiles to prepare. Older datasets archived by ESA contain multiple tiles. If <code>select.tiles</code> is set to one or multiple specific tiles contained within the selected datasets (e.g. "T32TNT"), only these tiles will be extracted and prepared. By default, all tiles are extracted and prepared. Ignored for datasets that contain only a single tile.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>logical, whether to overwrite existing files or not.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical, if <code>TRUE</code>, details on the function's progress will be visibile on the console. Default is TRUE.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Character vector of paths to the prepared files.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='getSentinel_data.html'>getSentinel_data</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Load packages</span>
<span class='fu'>library</span>(<span class='no'>getSpatialData</span>)
<span class='fu'>library</span>(<span class='no'>sf</span>)
<span class='fu'>library</span>(<span class='no'>sp</span>)

<span class='co'>## Define an AOI (either matrix, sf or sp object)</span>
<span class='fu'>data</span>(<span class='st'>"aoi_data"</span>) <span class='co'># example aoi</span>

<span class='no'>aoi</span> <span class='kw'>&lt;-</span> <span class='no'>aoi_data</span><span class='kw'>[[</span><span class='fl'>3</span>]] <span class='co'># AOI as matrix object, or better:</span>
<span class='no'>aoi</span> <span class='kw'>&lt;-</span> <span class='no'>aoi_data</span><span class='kw'>[[</span><span class='fl'>2</span>]] <span class='co'># AOI as sp object, or:</span>
<span class='no'>aoi</span> <span class='kw'>&lt;-</span> <span class='no'>aoi_data</span><span class='kw'>[[</span><span class='fl'>1</span>]] <span class='co'># AOI as sf object</span>

<span class='co'>## set AOI for this session</span>
<span class='fu'><a href='gSD_settings.html'>set_aoi</a></span>(<span class='no'>aoi</span>)
<span class='fu'><a href='gSD_settings.html'>view_aoi</a></span>() <span class='co'>#view AOI in viewer</span>
<span class='co'># or, simply call set_aoi() without argument to interactively draw an AOI</span>

<span class='co'>## Define time range and platform</span>
<span class='no'>time_range</span> <span class='kw'>&lt;-</span>  <span class='fu'>c</span>(<span class='st'>"2017-08-01"</span>, <span class='st'>"2017-08-30"</span>)
<span class='no'>platform</span> <span class='kw'>&lt;-</span> <span class='st'>"Sentinel-2"</span>

<span class='co'>## set login credentials and an archive directory</span></div><span class='co'># NOT RUN {</span>
<span class='fu'><a href='gSD_login.html'>login_CopHub</a></span>(<span class='kw'>username</span> <span class='kw'>=</span> <span class='st'>"username"</span>) <span class='co'>#asks for password or define 'password'</span>
<span class='fu'><a href='gSD_settings.html'>set_archive</a></span>(<span class='st'>"/path/to/archive/"</span>)

<span class='co'>## Use getSentinel_query to search for data (using the session AOI)</span>
<span class='no'>records</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getSentinel_query.html'>getSentinel_query</a></span>(<span class='kw'>time_range</span> <span class='kw'>=</span> <span class='no'>time_range</span>, <span class='kw'>platform</span> <span class='kw'>=</span> <span class='no'>platform</span>)

<span class='co'>## Get an overview of the records</span>
<span class='fu'>View</span>(<span class='no'>records</span>) <span class='co'>#get an overview about the search records</span>
<span class='fu'>colnames</span>(<span class='no'>records</span>) <span class='co'>#see all available filter attributes</span>
<span class='fu'>unique</span>(<span class='no'>records</span>$<span class='no'>processinglevel</span>) <span class='co'>#use one of the, e.g. to see available processing levels</span>

<span class='co'>## Filter the records</span>
<span class='no'>records_filtered</span> <span class='kw'>&lt;-</span> <span class='no'>records</span>[<span class='fu'>which</span>(<span class='no'>records</span>$<span class='no'>processinglevel</span> <span class='kw'>==</span> <span class='st'>"Level-1C"</span>),] <span class='co'>#filter by Level</span>

<span class='co'>## Preview a single record</span>
<span class='fu'><a href='getSentinel_preview.html'>getSentinel_preview</a></span>(<span class='kw'>record</span> <span class='kw'>=</span> <span class='no'>records_filtered</span>[<span class='fl'>5</span>,])

<span class='co'>## Download some datasets</span>
<span class='no'>datasets</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getSentinel_data.html'>getSentinel_data</a></span>(<span class='kw'>records</span> <span class='kw'>=</span> <span class='no'>records_filtered</span>[<span class='fu'>c</span>(<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span>),])

<span class='co'>## Make them ready to use</span>
<span class='no'>datasets_prep</span> <span class='kw'>&lt;-</span> <span class='fu'>prepSentinel</span>(<span class='no'>datasets</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"tiff"</span>)

<span class='co'>## Load them to R</span>
<span class='no'>r</span> <span class='kw'>&lt;-</span> <span class='fu'>stack</span>(<span class='no'>datasets_prep</span><span class='kw'>[[</span><span class='fl'>1</span>]]<span class='kw'>[[</span><span class='fl'>1</span>]][<span class='fl'>1</span>]) <span class='co'>#first dataset, first tile, 10m resoultion</span>
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Jakob Schwalb-Willmann

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jakob Schwalb-Willmann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

