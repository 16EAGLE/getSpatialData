<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Selects remote sensing records uni-temporally — select_unitemporal • getSpatialData</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Selects remote sensing records uni-temporally — select_unitemporal" />
<meta property="og:description" content="Selection is done according to aoi cloud cover (in case of optical data) 
and temporal characteristics. Both optical and SAR records are supported as well as
combined selection for different products across systems and data providers." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">getSpatialData</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../index.html#workflow">Workflow</a>
</li>
<li>
  <a href="../index.html#get-started">Get Started</a>
</li>
<li>
  <a href="../index.html#supported-products">Supported Products</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://movevis.org">moveVis</a>
    </li>
    <li>
      <a href="http://jxsw.de/basemaps">basemaps</a>
    </li>
    <li>
      <a href="http://www.github.com/bleutner/RStoolbox">RStoolbox</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://www.twitter.com/schwalbwillmann">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://www.github.com/16eagle">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://remote-sensing.eu">
    <span class="fa fa-globe fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Selects remote sensing records uni-temporally</h1>
    
    <div class="hidden name"><code>select_unitemporal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Selection is done according to aoi cloud cover (in case of optical data) 
and temporal characteristics. Both optical and SAR records are supported as well as
combined selection for different products across systems and data providers.</p>
    </div>

    <pre class="usage"><span class='fu'>select_unitemporal</span>(
  <span class='no'>records</span>,
  <span class='no'>max_sub_period</span>,
  <span class='kw'>min_improvement</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>max_cloudcov_tile</span> <span class='kw'>=</span> <span class='fl'>80</span>,
  <span class='kw'>satisfaction_value</span> <span class='kw'>=</span> <span class='fl'>98</span>,
  <span class='kw'>prio_products</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(),
  <span class='kw'>aoi</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>write_cmask_mosaic</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>write_preview_mosaic</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>dir_out</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>as_sf</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>records</th>
      <td><p>data.frame as returned by <a href='calc_cloudcov.html'>calc_cloudcov</a>, either complete or subsetted but with all columns. 
Records will be selected from these records. If <code>prio_products</code> is provided only these products will be handled.</p></td>
    </tr>
    <tr>
      <th>max_sub_period</th>
      <td><p>numeric maximum number of days to be used for creating a mosaic per timestamp if mosaicking is needed. 
This determines how temporally close together the selected records for one timestamp are (if mosaicking is needed).</p></td>
    </tr>
    <tr>
      <th>min_improvement</th>
      <td><p>numeric the minimum increase of valid pixels percentage in a tile when adding a record.
This protects from adding large amounts of records that improve coverage by only a few pixels. Default is 100.</p></td>
    </tr>
    <tr>
      <th>max_cloudcov_tile</th>
      <td><p>numeric maximum aoi cloud cover (%) a selected tile is allowed to have. 
The assumption is that a high cloud cover in a scene makes it unlikely that theoretically non-cloudy pixels are free from haze
or shadows. Default is 80.</p></td>
    </tr>
    <tr>
      <th>satisfaction_value</th>
      <td><p>numeric percentage value at which mosaic is considered as cloud-free. Default is 98.</p></td>
    </tr>
    <tr>
      <th>prio_products</th>
      <td><p>character vector optional. Product names ordered by priority. Selection is done in the order
of prio_products starting with the first product. Following products are included consecutively in case
selection was not fullfilled by previous product. Product names must be provided as returned by <a href='get_select_supported.html'>get_select_supported</a>.
Landsat and MODIS can be summarized by 'Landsat' respectively 'MODIS' if no further differentiation demanded.
If prio_products is empty, given products in <code>records</code> will be selected in random order in case several are given in <code>records</code>.</p></td>
    </tr>
    <tr>
      <th>aoi</th>
      <td><p>sfc_POLYGON or SpatialPolygons or matrix, representing a single multi-point 
(at least three points) polygon of your area-of-interest (AOI). If it is a matrix, it has to 
have two columns (longitude and latitude) and at least three rows (each row representing one 
#corner coordinate). If its projection is not <code>+proj=longlat +datum=WGS84 +no_defs</code>, 
it is reprojected to the latter. Use <a href='aoi.html'>set_aoi</a> instead to once define an AOI globally 
for all queries within the running session. If <code>aoi</code> is undefined, the AOI that has been 
set using <a href='aoi.html'>set_aoi</a> is used.</p></td>
    </tr>
    <tr>
      <th>write_cmask_mosaic</th>
      <td><p>logical specifies if the timestamp-wise cloud mask mosaic rasters are written to file.</p></td>
    </tr>
    <tr>
      <th>write_preview_mosaic</th>
      <td><p>logical specifies if the timestamp-wise preview mosaic rasters are written to file.</p></td>
    </tr>
    <tr>
      <th>dir_out</th>
      <td><p>character. If <code>dir_out</code> is not NULL the given cloud mask rasters and 
a record file for each record will be saved in <code>dir_out</code>. If it is NULL, the session 
<code>dir_out</code> is used.
If no session <code>dir_out</code> is set through <a href='archive.html'>set_archive</a> an error is thrown.</p></td>
    </tr>
    <tr>
      <th>as_sf</th>
      <td><p>logical, whether records should be returned as <code>sf</code> <code>data.frame</code> or a simple <code>data.frame</code>. In both cases, spatial geometries are stored in column <code>footprint</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical, if <code>TRUE</code>, details on the function's progress will be visibile 
on the console. Default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>records</code> data.frame holding three additional columns:</p><ol>
<li><p>selected_for_unitemporal logical column indicating for each record if it was selected (==TRUE).</p></li>
<li><p>rgb_mosaic_file: character path where the RGB preview mosaic is saved on disk.</p></li>
<li><p>cmask_mosaic_file: character path where the cloud mask mosaic is saved on disk.</p></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For running the selection you have to process <a href='calc_cloudcov.html'>calc_cloudcov</a> first.
Generally, the following products can be processed in <code>select_*</code> functionalities:</p><ul>
<li><p>Sentinel-1</p></li>
<li><p>Sentinel-2 A/B</p></li>
<li><p>Sentinel-3 OLCI</p></li>
<li><p>Landsat 5-8</p></li>
<li><p>MODIS</p></li>
</ul><p>For the precise supported product names call <a href='get_select_supported.html'>get_select_supported</a>.
When aiming at mixing two or more optical products you may order them by priority
through <code>prio_products</code>.
Coupled selection of optical and SAR sensors is possible. Optical records will always
be selected first, SAR records second, in temporal accordance with the selected
optical records.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This functionality creates a 'tmp' folder below <code>dir_out</code> where
temporary files are saved. This folder will be deleted at the end of the function call.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jakob Schwalb-Willmann, Henrik Fisser.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


